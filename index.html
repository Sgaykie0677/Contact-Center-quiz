<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Contact Center Playbook Quiz</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 32px; background: #f6f7fb; color: #222; }
    .container { max-width: 700px; margin: 0 auto; }
    h1 { font-size: 22px; margin-bottom: 16px; }
    .card { background: #fff; border-radius: 12px; box-shadow: 0 6px 22px rgba(0,0,0,0.06); padding: 20px; margin-bottom: 16px; }
    select, button { padding: 10px 12px; border-radius: 8px; border: 1px solid #ddd; font-size: 14px; }
    button.primary { background: #0a66c2; color: #fff; border: none; margin-right: 8px; }
    button.primary:hover { background: #084f98; }
    .question-title { font-weight: 600; margin-bottom: 10px; }
    .options label { display: block; margin: 6px 0; cursor: pointer; }
    .feedback { margin-top: 8px; font-size: 13px; font-style: italic; }
    .feedback.correct { color: green; }
    .feedback.incorrect { color: red; }
    .result { margin-top: 16px; font-weight: 600; }
  </style>
</head>
<body>
  <div class="container">
    <h1>Contact Center Playbook Quiz</h1>
    <div class="card">
      <label for="sectionSelect">Choose a section:</label>
      <select id="sectionSelect"></select>
      <button class="primary" onclick="startQuiz()">Start Quiz</button>
    </div>
    <div class="card">
      <div id="quiz"></div>
      <button class="primary" id="submitBtn" onclick="submitAnswer()" style="display:none;">Submit Answer</button>
      <button class="primary" id="nextBtn" onclick="nextQuestion()" style="display:none;">Next</button>
      <div id="result" class="result"></div>
    </div>
  </div>

  <script>
    const DEFINITIONS = {
      "R15": "Reject code for missing prior authorization.",
      "R05": "Reject code for duplicate submission.",
      "Eligibility": "Verification that the caller is an active member with valid coverage.",
      "MHK": "System used to track Clinical Review workflows and documentation.",
      "Escalation": "Routing a call or case to a higher authority (supervisor, pharmacist) per protocol.",
      "Compliance": "Following rules, policies, and regulations to protect members and the organization.",
      "Documentation": "Recording actions, outcomes, and rationale in a structured, audit-ready format.",
      "Scripts": "Standardized phrasing used to guide calls and ensure consistency.",
      "Non-member": "Caller who is not the member; requires limited disclosure and documentation."
    };

    const SECTIONS = [
      { id: "Member Verification & Eligibility", tag: "member" },
      { id: "Clinical Review Workflow", tag: "clinical" },
      { id: "Reject Codes", tag: "rejects" },
      { id: "Documentation Standards", tag: "docs" },
      { id: "Escalation Protocols", tag: "escalation" },
      { id: "Compliance & Audit Readiness", tag: "compliance" },
      { id: "System Navigation (MHK & Portals)", tag: "systems" },
      { id: "Scripts & Call Handling", tag: "scripts" },
      { id: "Non-member & Third-party Calls", tag: "nonmember" }
    ];

    const QUESTIONS = [
      { section:"member", q:"What is the first step when handling a Clinical Review call?", options:["Verify member identity","Check escalation protocol","Document reject code","Transfer to supervisor"], a:0, expl:"Always verify member identity first to ensure compliance.", term:"Eligibility", playbookLang:"Per playbook: 'Begin every call by verifying the member’s identity using two approved identifiers.'"},
      { section:"clinical", q:"Which system is used to track Clinical Review workflows?", options:["Email","MHK","Spreadsheets","Chat logs"], a:1, expl:"MHK is the official tool to track review status.", term:"MHK", playbookLang:"Per playbook: 'All Clinical Review workflows must be documented and tracked in the MHK system.'"},
      { section:"rejects", q:"Which reject code applies when prior authorization is missing?", options:["R01","R15","R22","R99"], a:1, expl:"R15 is used when prior authorization is missing.", term:"R15", playbookLang:"Per playbook: 'Use reject code R15 when prior authorization is not on file.'"},
      { section:"docs", q:"What must be documented after applying a reject code?", options:["Supervisor initials","Reason and action taken","Caller’s tone","Nothing"], a:1, expl:"Reason and action taken must be documented.", term:"Documentation", playbookLang:"Per playbook: 'Document the reason for the reject code and the action taken to resolve.'"},
      { section:"escalation", q:"When should you escalate to a supervisor?", options:["Caller disputes a code","Any routine call","System is fast","Skip documentation"], a:0, expl:"Disputes and explicit requests require supervisor escalation.", term:"Escalation", playbookLang:"Per playbook: 'Escalate to a supervisor when a caller disputes a code or requests escalation.'"},
      { section:"compliance", q:"Minimum necessary principle means:", options:["Share only what’s needed","Share everything","Avoid documentation","Skip verification"], a:0, expl:"Disclose the least information necessary to accomplish the task.", term:"Compliance", playbookLang:"Per playbook: 'Always apply the minimum necessary standard when sharing information.'"},
      { section:"systems", q:"Primary system for clinical tracking:", options:["MHK","Chat","Email","Spreadsheet"], a:0, expl:"MHK is the system of record for clinical workflows.", term:"MHK", playbookLang:"Per playbook: 'All clinical tracking must be performed in MHK.'"},
      { section:"scripts", q:"Before ending the call you should:", options:["Confirm resolution","End abruptly","Skip notes","Ask unrelated questions"], a:0, expl:"Always close with confirmation and a brief summary.", term:"Scripts", playbookLang:"Per playbook: 'Close every call by confirming resolution and summarizing next steps.'"},
      { section:"nonmember", q:"When a third party calls about a member:", options:["Confirm authorization or provide minimum necessary info","Share freely","Refuse to document","Guess identity"], a:0, expl:"Confirm authorized status; otherwise limit sharing and document.", term:"Non-member", playbookLang:"Per playbook: 'For non-member calls, confirm authorization or provide only minimum necessary information.'"}
    ];

    const sectionSelect = document.getElementById("sectionSelect");
    SECTIONS.forEach(s => {
      const opt = document.createElement("option");
      opt.value = s.tag;
      opt.textContent = s.id;
      sectionSelect.appendChild(opt);
    });

    let currentQuestions = [];
    let currentIndex = 0;
    let score = 0;

    function startQuiz() {
      const tag = sectionSelect.value;
      currentQuestions = QUESTIONS.filter(q => q.section === tag);
      currentIndex = 0;
      score = 0;
      document.getElementById("result").textContent = "";
      showQuestion();
    }

    function showQuestion() {
      const quizDiv = document.getElementById("quiz");
      quizDiv.innerHTML = "";
      if (currentIndex < currentQuestions.length) {
        const q = currentQuestions[currentIndex];
        const block = document.createElement("div");
        block.className = "question-block";
        block.innerHTML = `
          <div class="question-title">${currentIndex+1}. ${q.q}</div>
          <div class="options">
            ${q.options.map((opt,j)=>`<label><input type="radio" name="q${currentIndex}" value="${j}"> ${opt}</label>`).join("")}
          </div>
          <div class="feedback" id="fb${currentIndex}" style="display:none;"></div>
        `;
        quizDiv.appendChild(block);
        document.getElementById("submitBtn").style.display = "inline-block";
        document.getElementById("nextBtn").style.display = "none";
      } else {
        quizDiv.innerHTML = "<div class='question-title'>Quiz complete!</div>";
        document.getElementById("submitBtn").style.display = "none";
        document.getElementById("nextBtn").
